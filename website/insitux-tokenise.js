(()=>{"use strict";var t={d:(e,r)=>{for(var s in r)t.o(r,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:r[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.d(e,{tokenise:()=>ut});var r={};t.r(r),t.d(r,{abs:()=>B,ceil:()=>z,charCode:()=>w,codeChar:()=>A,concat:()=>x,cos:()=>F,ends:()=>b,flat:()=>f,floor:()=>$,getTimeMs:()=>q,has:()=>p,isArray:()=>u,isNum:()=>c,len:()=>a,log10:()=>Q,log2:()=>J,logn:()=>H,lowerCase:()=>N,max:()=>W,min:()=>D,objKeys:()=>P,padEnd:()=>k,push:()=>g,randInt:()=>I,randNum:()=>E,range:()=>T,reverse:()=>C,round:()=>U,sign:()=>G,sin:()=>_,slen:()=>i,slice:()=>n,sortBy:()=>M,splice:()=>o,sqrt:()=>L,starts:()=>y,strIdx:()=>d,sub:()=>h,subIdx:()=>m,substr:()=>l,tan:()=>K,toNum:()=>s,trim:()=>S,trimEnd:()=>j,trimStart:()=>O,upperCase:()=>v});const s=t=>Number(t),n=(t,e,r)=>t.slice(e,r),o=(t,e,r)=>t.splice(e,r),a=t=>t.length,i=t=>t.length,c=t=>!Number.isNaN(Number(t)),u=t=>Array.isArray(t),l=(t,e,r)=>t.substring(e,e+(r??t.length)),d=(t,e)=>t[e],h=(t,e)=>t.includes(e),m=(t,e)=>t.indexOf(e),p=(t,e)=>t.includes(e),y=(t,e)=>t.startsWith(e),b=(t,e)=>t.endsWith(e),f=t=>t.flat(),x=(t,e)=>t.concat(e),g=(t,e)=>t.push(...e),M=(t,e)=>t.sort(e),C=t=>t.reverse(),N=t=>t.toLowerCase(),v=t=>t.toUpperCase(),S=t=>t.trim(),O=t=>t.trimStart(),j=t=>t.trimEnd(),k=(t,e)=>t.padEnd(e),w=t=>t.charCodeAt(0),A=t=>String.fromCharCode(t),E=(t,e)=>t+Math.random()*(e-t),I=(t,e)=>Math.floor(E(t,e)),T=t=>[...Array(t).keys()],P=t=>Object.keys(t),q=()=>(new Date).getTime(),B=Math.abs,D=Math.min,W=Math.max,_=Math.sin,F=Math.cos,K=Math.tan,L=Math.sqrt,U=Math.round,$=Math.floor,z=Math.ceil,G=Math.sign,H=Math.log,J=Math.log2,Q=Math.log10,{has:R,flat:V,push:X,slice:Y,splice:Z}=r,{slen:tt,starts:et,sub:rt,substr:st,strIdx:nt,subIdx:ot}=r,{isNum:at,len:it,toNum:ct}=r;function ut(t,e,r=!0,s=!1){const n=[],o=t=>rt("0123456789",t);let[a,i,c,u]=[!1,1,0,[1,0]],[l,d,h]=[!1,!1,!1];for(let m=0,p=tt(t);m<p;++m){const y=nt(t,m),b=m+1!==p?nt(t,m+1):"";if(++c,"\\"===y&&a){n[it(n)-1].text+={n:"\n",t:"\t",r:"\r",'"':'"'}[b]||("\\"===b?"\\":`\\${b}`),++c,++m;continue}const f={sourceId:e,line:i,col:c};if('"'===y){(a=!a)&&(u=[i,c],n.push({typ:"str",text:"",errCtx:f})),d=l=!1;continue}const x=rt(" \t\n\r,",y);if(!a&&x){d=l=!1,"\n"===y&&(++i,c=0);continue}if(!a&&";"===y){const e=ot(st(t,++m),"\n"),r=st(t,m,e>0?e:p-m);m+=tt(r),++i,c=0,s&&n.push({typ:"rem",text:r,errCtx:f});continue}const g=rt("()[]{}",y);if(d&&!o(y)){const t="x"===y&&"0"===n[it(n)-1].text;h=h||t,d="b"===y&&"0"===n[it(n)-1].text||"."===y&&!rt(n[it(n)-1].text,".")||h&&(t||rt("ABCDEFabcdef",y)),d||g||x||(l=!0,n[it(n)-1].typ="sym")}if(l&&g&&(l=!1),!a&&!l&&!d){if(g){const t=-1===ot("[{(",y)?")":"(";n.push({typ:t,text:r?t:y,errCtx:f}),!r||"["!==y&&"{"!==y||n.push({typ:"sym",text:"["===y?"vec":"dict",errCtx:f});continue}d=o(y)||"."===y&&o(b)||"-"===y&&(o(b)||"."===b),h=l=!d;const t=l?"sym":"num";n.push({typ:t,text:"",errCtx:f})}n[it(n)-1].text+=y}return{tokens:n,stringError:a?u:void 0}}window.insituxTokenise=e.tokenise})();
//# sourceMappingURL=insitux-tokenise.js.map